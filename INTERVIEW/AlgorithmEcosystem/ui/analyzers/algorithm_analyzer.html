<!DOCTYPE html>
<html lang="vi">
<head>
    <!-- Structured Data -->
    <script defer type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Algorithm Ecosystem Platform",
        "description": "Interactive platform for learning algorithms and data structures",
        "url": "",
        "applicationCategory": "EducationalApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>

    <!-- PWA Manifest -->
    <link rel="manifest" href="../manifest.json">
    <link rel="icon" type="image/png" sizes="32x32" href="../icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../icons/icon-16x16.png">
    <link rel="apple-touch-icon" href="../icons/icon-192x192.png">

    <!-- Preload Critical Resources -->
    <link rel="preload" href="../../shared/styles.css" as="style">
    <link rel="preload" href="../../shared/scripts.js" as="script">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">

    <!-- Performance & SEO Meta Tags -->
    <meta name="description" content="Algorithm Ecosystem Platform - H·ªçc thu·∫≠t to√°n hi·ªáu qu·∫£ v·ªõi c√¥ng c·ª• t∆∞∆°ng t√°c">
    <meta name="keywords" content="algorithms, data structures, programming, learning, interactive">
    <meta name="author" content="Algorithm Ecosystem Platform">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Algorithm Ecosystem Platform">
    <meta property="og:description" content="H·ªçc thu·∫≠t to√°n hi·ªáu qu·∫£ v·ªõi c√¥ng c·ª• t∆∞∆°ng t√°c">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Algorithm Ecosystem Platform">
    <meta name="twitter:description" content="H·ªçc thu·∫≠t to√°n hi·ªáu qu·∫£ v·ªõi c√¥ng c·ª• t∆∞∆°ng t√°c">
    
    <!-- Performance Meta Tags -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#667eea">
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Algorithm Ecosystem">

    <!-- Shared CSS Files -->
    <link rel="stylesheet" media="print" onload="this.media='all'" href="../../shared/styles.css">
    <link rel="stylesheet" media="print" onload="this.media='all'" href="../../shared/components.css">
    <link rel="stylesheet" media="print" onload="this.media='all'" href="../../shared/animations.css">
    <link rel="stylesheet" media="print" onload="this.media='all'" href="../../shared/accessibility.css">
    <link rel="stylesheet" media="print" onload="this.media='all'" href="../../shared/utilities.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm Analyzer & Theory Enhancer</title>
    
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="../index.html" class="back-button">
                ‚Üê Quay l·∫°i Navigation Hub
            </a>
            <h1>üîç Algorithm Analyzer & Theory Enhancer</h1>
            <p>S√†ng l·ªçc v√† n√¢ng c·∫•p l√Ω thuy·∫øt cho t·ª´ng gi·∫£i thu·∫≠t</p>
        </div>

        <div class="main-content">
            <!-- Sidebar with filters and algorithm list -->
            <div class="sidebar">
                <div class="filter-section">
                    <h3>üîç B·ªô l·ªçc</h3>
                    <input type="text" class="search-box" placeholder="T√¨m ki·∫øm algorithm..." id="searchBox">
                    
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="filterEasy" checked>
                            <label for="filterEasy">Easy</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filterMedium" checked>
                            <label for="filterMedium">Medium</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filterHard" checked>
                            <label for="filterHard">Hard</label>
                        </div>
                    </div>

                    <h4 style="margin-top: 15px;">üìö Categories</h4>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="filterArrays" checked>
                            <label for="filterArrays">Arrays</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filterStrings" checked>
                            <label for="filterStrings">Strings</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filterTrees" checked>
                            <label for="filterTrees">Trees</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filterGraphs" checked>
                            <label for="filterGraphs">Graphs</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filterDP" checked>
                            <label for="filterDP">Dynamic Programming</label>
                        </div>
                    </div>
                </div>

                <div class="algorithm-list" id="algorithmList">
                    <!-- Algorithm items will be populated here -->
                </div>
            </div>

            <!-- Main content area -->
            <div class="algorithm-detail" id="algorithmDetail">
                <h2>Ch·ªçn m·ªôt algorithm ƒë·ªÉ ph√¢n t√≠ch</h2>
                <p>Vui l√≤ng ch·ªçn m·ªôt algorithm t·ª´ danh s√°ch b√™n tr√°i ƒë·ªÉ xem chi ti·∫øt ph√¢n t√≠ch v√† l√Ω thuy·∫øt n√¢ng cao.</p>
            </div>
        </div>
    </div>

    <script defer>
        // Enhanced algorithm database with detailed analysis
        const algorithms = [
            {
                id: 1,
                name: "Two Sum",
                category: "Arrays",
                difficulty: "Easy",
                timeComplexity: "O(n)",
                spaceComplexity: "O(n)",
                concept: "T√¨m hai s·ªë trong m·∫£ng c√≥ t·ªïng b·∫±ng target",
                description: "S·ª≠ d·ª•ng HashMap ƒë·ªÉ l∆∞u tr·ªØ c√°c s·ªë ƒë√£ duy·ªát qua, ki·ªÉm tra complement c·ªßa m·ªói s·ªë v·ªõi target.",
                keyInsights: [
                    "HashMap gi√∫p t√¨m ki·∫øm O(1) thay v√¨ O(n)",
                    "Ch·ªâ c·∫ßn duy·ªát m·∫£ng m·ªôt l·∫ßn",
                    "L∆∞u index thay v√¨ ch·ªâ value ƒë·ªÉ tr·∫£ v·ªÅ ƒë√∫ng v·ªã tr√≠"
                ],
                commonMistakes: [
                    "Qu√™n ki·ªÉm tra complement tr∆∞·ªõc khi th√™m v√†o map",
                    "Tr·∫£ v·ªÅ sai th·ª© t·ª± index",
                    "Kh√¥ng x·ª≠ l√Ω tr∆∞·ªùng h·ª£p duplicate values"
                ],
                optimizationTips: [
                    "C√≥ th·ªÉ s·ª≠ d·ª•ng Set n·∫øu ch·ªâ c·∫ßn ki·ªÉm tra t·ªìn t·∫°i",
                    "Two pointers approach cho m·∫£ng ƒë√£ sort (O(n log n))",
                    "Binary search cho m·∫£ng ƒë√£ sort (O(n log n))"
                ],
                realWorldApplications: [
                    "T√¨m ki·∫øm s·∫£n ph·∫©m trong e-commerce",
                    "Matching users trong dating apps",
                    "Financial portfolio balancing"
                ],
                learningPath: [
                    {
                        step: 1,
                        title: "Hi·ªÉu v·∫•n ƒë·ªÅ",
                        description: "X√°c ƒë·ªãnh input, output v√† constraints"
                    },
                    {
                        step: 2,
                        title: "Brute Force",
                        description: "Gi·∫£i b·∫±ng 2 v√≤ng l·∫∑p l·ªìng nhau O(n¬≤)"
                    },
                    {
                        step: 3,
                        title: "T·ªëi ∆∞u h√≥a",
                        description: "S·ª≠ d·ª•ng HashMap ƒë·ªÉ gi·∫£m th·ªùi gian t√¨m ki·∫øm"
                    },
                    {
                        step: 4,
                        title: "Edge Cases",
                        description: "X·ª≠ l√Ω duplicate values v√† empty array"
                    }
                ],
                codeExamples: {
                    python: `def two_sum(nums, target):
    seen = {}
    for i, num in enumerate(nums):
        complement = target - num
        if complement in seen:
            return [seen[complement], i]
        seen[num] = i
    return []

# Test cases
print(two_sum([2, 7, 11, 15], 9))  # [0, 1]
print(two_sum([3, 2, 4], 6))       # [1, 2]
print(two_sum([3, 3], 6))          # [0, 1]`,
                    javascript: `function twoSum(nums, target) {
    const map = new Map();
    for (let i = 0; i < nums.length; i++) {
        const complement = target - nums[i];
        if (map.has(complement)) {
            return [map.get(complement), i];
        }
        map.set(nums[i], i);
    }
    return [];
}

// Test cases
console.log(twoSum([2, 7, 11, 15], 9));  // [0, 1]
console.log(twoSum([3, 2, 4], 6));       // [1, 2]
console.log(twoSum([3, 3], 6));          // [0, 1]`,
                    java: `import java.util.*;

public class TwoSum {
    public int[] twoSum(int[] nums, int target) {
        Map<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i < nums.length; i++) {
            int complement = target - nums[i];
            if (map.containsKey(complement)) {
                return new int[]{map.get(complement), i};
            }
            map.put(nums[i], i);
        }
        return new int[]{};
    }
}`
                },
                theoryEnhancements: [
                    {
                        type: "Mathematical Foundation",
                        content: "D·ª±a tr√™n nguy√™n l√Ω: n·∫øu a + b = target, th√¨ target - a = b. ƒê√¢y l√† ·ª©ng d·ª•ng c·ªßa ph√©p to√°n ƒë·∫°i s·ªë c∆° b·∫£n."
                    },
                    {
                        type: "Data Structure Choice",
                        content: "HashMap ƒë∆∞·ª£c ch·ªçn v√¨: 1) Average case O(1) lookup, 2) L∆∞u tr·ªØ key-value pairs, 3) Kh√¥ng c·∫ßn sort nh∆∞ array."
                    },
                    {
                        type: "Algorithm Pattern",
                        content: "ƒê√¢y l√† v√≠ d·ª• ƒëi·ªÉn h√¨nh c·ªßa 'Hash Table Pattern' - s·ª≠ d·ª•ng hash table ƒë·ªÉ t·ªëi ∆∞u h√≥a t√¨m ki·∫øm."
                    },
                    {
                        type: "Space-Time Tradeoff",
                        content: "ƒê√°nh ƒë·ªïi O(n) space ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c O(n) time thay v√¨ O(n¬≤) time. ƒê√¢y l√† tradeoff ph·ªï bi·∫øn trong algorithm design."
                    }
                ]
            },
            {
                id: 2,
                name: "Binary Search",
                category: "Search",
                difficulty: "Easy",
                timeComplexity: "O(log n)",
                spaceComplexity: "O(1)",
                concept: "T√¨m ki·∫øm trong m·∫£ng ƒë√£ s·∫Øp x·∫øp b·∫±ng c√°ch chia ƒë√¥i kh√¥ng gian t√¨m ki·∫øm",
                description: "Thu·∫≠t to√°n t√¨m ki·∫øm hi·ªáu qu·∫£ tr√™n m·∫£ng ƒë√£ sort, gi·∫£m m·ªôt n·ª≠a kh√¥ng gian t√¨m ki·∫øm sau m·ªói l·∫ßn so s√°nh.",
                keyInsights: [
                    "Ch·ªâ ho·∫°t ƒë·ªông tr√™n m·∫£ng ƒë√£ sort",
                    "Gi·∫£m kh√¥ng gian t√¨m ki·∫øm m·ªôt n·ª≠a m·ªói b∆∞·ªõc",
                    "C·∫ßn x·ª≠ l√Ω c·∫©n th·∫≠n boundary conditions"
                ],
                commonMistakes: [
                    "Infinite loop do kh√¥ng c·∫≠p nh·∫≠t left/right ƒë√∫ng c√°ch",
                    "Integer overflow khi t√≠nh mid",
                    "Kh√¥ng x·ª≠ l√Ω tr∆∞·ªùng h·ª£p target kh√¥ng t·ªìn t·∫°i"
                ],
                optimizationTips: [
                    "S·ª≠ d·ª•ng left + (right - left) / 2 ƒë·ªÉ tr√°nh overflow",
                    "C√≥ th·ªÉ s·ª≠ d·ª•ng left < right thay v√¨ left <= right",
                    "Template patterns cho c√°c bi·∫øn th·ªÉ kh√°c nhau"
                ],
                realWorldApplications: [
                    "T√¨m ki·∫øm trong database indexes",
                    "Game development (collision detection)",
                    "File system directory lookup"
                ],
                learningPath: [
                    {
                        step: 1,
                        title: "Linear Search",
                        description: "Hi·ªÉu c√°ch t√¨m ki·∫øm tu·∫ßn t·ª± O(n)"
                    },
                    {
                        step: 2,
                        title: "Binary Search Concept",
                        description: "Hi·ªÉu nguy√™n l√Ω chia ƒë√¥i kh√¥ng gian t√¨m ki·∫øm"
                    },
                    {
                        step: 3,
                        title: "Implementation",
                        description: "Vi·∫øt code v·ªõi boundary conditions"
                    },
                    {
                        step: 4,
                        title: "Variations",
                        description: "T√¨m first/last occurrence, insertion point"
                    }
                ],
                codeExamples: {
                    python: `def binary_search(nums, target):
    left, right = 0, len(nums) - 1
    
    while left <= right:
        mid = left + (right - left) // 2  # Avoid overflow
        if nums[mid] == target:
            return mid
        elif nums[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return -1

# Test cases
arr = [1, 3, 5, 7, 9, 11, 13, 15]
print(binary_search(arr, 7))   # 3
print(binary_search(arr, 10))  # -1`,
                    javascript: `function binarySearch(nums, target) {
    let left = 0, right = nums.length - 1;
    
    while (left <= right) {
        const mid = Math.floor(left + (right - left) / 2);
        if (nums[mid] === target) {
            return mid;
        } else if (nums[mid] < target) {
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }
    
    return -1;
}

// Test cases
const arr = [1, 3, 5, 7, 9, 11, 13, 15];
console.log(binarySearch(arr, 7));   // 3
console.log(binarySearch(arr, 10));  // -1`,
                    java: `public class BinarySearch {
    public int binarySearch(int[] nums, int target) {
        int left = 0, right = nums.length - 1;
        
        while (left <= right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] == target) {
                return mid;
            } else if (nums[mid] < target) {
                left = mid + 1;
            } else {
                right = mid - 1;
            }
        }
        
        return -1;
    }
}`
                },
                theoryEnhancements: [
                    {
                        type: "Mathematical Foundation",
                        content: "D·ª±a tr√™n nguy√™n l√Ω 'Divide and Conquer' - chia b√†i to√°n th√†nh c√°c ph·∫ßn nh·ªè h∆°n. S·ªë b∆∞·ªõc t·ªëi ƒëa = log‚ÇÇ(n)."
                    },
                    {
                        type: "Complexity Analysis",
                        content: "M·ªói b∆∞·ªõc gi·∫£m kh√¥ng gian t√¨m ki·∫øm m·ªôt n·ª≠a: n ‚Üí n/2 ‚Üí n/4 ‚Üí ... ‚Üí 1. T·ªïng s·ªë b∆∞·ªõc = log‚ÇÇ(n)."
                    },
                    {
                        type: "Invariant Principle",
                        content: "Lu√¥n duy tr√¨ invariant: target n·∫±m trong kho·∫£ng [left, right] n·∫øu t·ªìn t·∫°i. ƒêi·ªÅu n√†y ƒë·∫£m b·∫£o t√≠nh ƒë√∫ng ƒë·∫Øn c·ªßa thu·∫≠t to√°n."
                    },
                    {
                        type: "Template Patterns",
                        content: "C√≥ th·ªÉ t·∫°o template cho c√°c bi·∫øn th·ªÉ: t√¨m first occurrence, last occurrence, insertion point, v·ªõi slight modifications."
                    }
                ]
            },
            {
                id: 3,
                name: "Quick Sort",
                category: "Sorting",
                difficulty: "Medium",
                timeComplexity: "O(n log n) average, O(n¬≤) worst",
                spaceComplexity: "O(log n)",
                concept: "S·∫Øp x·∫øp b·∫±ng ph∆∞∆°ng ph√°p chia ƒë·ªÉ tr·ªã v·ªõi pivot selection",
                description: "Thu·∫≠t to√°n s·∫Øp x·∫øp hi·ªáu qu·∫£ s·ª≠ d·ª•ng pivot ƒë·ªÉ ph√¢n v√πng m·∫£ng th√†nh c√°c ph·∫ßn nh·ªè h∆°n.",
                keyInsights: [
                    "Pivot selection ·∫£nh h∆∞·ªüng l·ªõn ƒë·∫øn performance",
                    "In-place sorting v·ªõi O(log n) space",
                    "Unstable sort nh∆∞ng hi·ªáu qu·∫£ trong practice"
                ],
                commonMistakes: [
                    "Ch·ªçn pivot kh√¥ng t·ªët (first/last element)",
                    "Kh√¥ng x·ª≠ l√Ω duplicate elements",
                    "Stack overflow v·ªõi m·∫£ng ƒë√£ sort"
                ],
                optimizationTips: [
                    "S·ª≠ d·ª•ng median-of-three pivot selection",
                    "Switch to insertion sort cho small subarrays",
                    "Random pivot selection ƒë·ªÉ tr√°nh worst case"
                ],
                realWorldApplications: [
                    "Database sorting",
                    "Programming language sort functions",
                    "File system organization"
                ],
                learningPath: [
                    {
                        step: 1,
                        title: "Partition Concept",
                        description: "Hi·ªÉu c√°ch ph√¢n v√πng m·∫£ng quanh pivot"
                    },
                    {
                        step: 2,
                        title: "Pivot Selection",
                        description: "H·ªçc c√°c c√°ch ch·ªçn pivot hi·ªáu qu·∫£"
                    },
                    {
                        step: 3,
                        title: "Recursive Structure",
                        description: "√Åp d·ª•ng divide and conquer"
                    },
                    {
                        step: 4,
                        title: "Optimization",
                        description: "C·∫£i thi·ªán performance v·ªõi various techniques"
                    }
                ],
                codeExamples: {
                    python: `def quick_sort(arr):
    if len(arr) <= 1:
        return arr
    
    pivot = arr[len(arr) // 2]
    left = [x for x in arr if x < pivot]
    middle = [x for x in arr if x == pivot]
    right = [x for x in arr if x > pivot]
    
    return quick_sort(left) + middle + quick_sort(right)

# In-place version
def partition(arr, low, high):
    pivot = arr[high]
    i = low - 1
    
    for j in range(low, high):
        if arr[j] <= pivot:
            i += 1
            arr[i], arr[j] = arr[j], arr[i]
    
    arr[i + 1], arr[high] = arr[high], arr[i + 1]
    return i + 1

def quick_sort_inplace(arr, low, high):
    if low < high:
        pi = partition(arr, low, high)
        quick_sort_inplace(arr, low, pi - 1)
        quick_sort_inplace(arr, pi + 1, high)`,
                    javascript: `function quickSort(arr) {
    if (arr.length <= 1) return arr;
    
    const pivot = arr[Math.floor(arr.length / 2)];
    const left = arr.filter(x => x < pivot);
    const middle = arr.filter(x => x === pivot);
    const right = arr.filter(x => x > pivot);
    
    return [...quickSort(left), ...middle, ...quickSort(right)];
}

// In-place version
function partition(arr, low, high) {
    const pivot = arr[high];
    let i = low - 1;
    
    for (let j = low; j < high; j++) {
        if (arr[j] <= pivot) {
            i++;
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
    }
    
    [arr[i + 1], arr[high]] = [arr[high], arr[i + 1]];
    return i + 1;
}

function quickSortInPlace(arr, low = 0, high = arr.length - 1) {
    if (low < high) {
        const pi = partition(arr, low, high);
        quickSortInPlace(arr, low, pi - 1);
        quickSortInPlace(arr, pi + 1, high);
    }
}`,
                    java: `public class QuickSort {
    public void quickSort(int[] arr, int low, int high) {
        if (low < high) {
            int pi = partition(arr, low, high);
            quickSort(arr, low, pi - 1);
            quickSort(arr, pi + 1, high);
        }
    }
    
    private int partition(int[] arr, int low, int high) {
        int pivot = arr[high];
        int i = low - 1;
        
        for (int j = low; j < high; j++) {
            if (arr[j] <= pivot) {
                i++;
                int temp = arr[i];
                arr[i] = arr[j];
                arr[j] = temp;
            }
        }
        
        int temp = arr[i + 1];
        arr[i + 1] = arr[high];
        arr[high] = temp;
        
        return i + 1;
    }
}`
                },
                theoryEnhancements: [
                    {
                        type: "Mathematical Foundation",
                        content: "D·ª±a tr√™n 'Divide and Conquer' principle. Recurrence relation: T(n) = T(k) + T(n-k-1) + O(n), v·ªõi k l√† size c·ªßa left partition."
                    },
                    {
                        type: "Average Case Analysis",
                        content: "V·ªõi random pivot, expected partition size = n/2. Recurrence: T(n) = 2T(n/2) + O(n) ‚Üí O(n log n)."
                    },
                    {
                        type: "Worst Case Analysis",
                        content: "Khi pivot lu√¥n l√† min/max: T(n) = T(n-1) + O(n) ‚Üí O(n¬≤). X·∫£y ra v·ªõi sorted arrays v√† bad pivot selection."
                    },
                    {
                        type: "Space Complexity",
                        content: "Stack space = depth of recursion tree. Best case: O(log n), Worst case: O(n). In-place partitioning gi√∫p ti·∫øt ki·ªám space."
                    }
                ]
            }
        ];

        let selectedAlgorithm = null;
        let filteredAlgorithms = [...algorithms];

        // Initialize the app
        function init() {
            renderAlgorithmList();
            setupEventListeners();
        }

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('searchBox').addEventListener('input', filterAlgorithms);
            
            // Filter checkboxes
            const filterCheckboxes = document.querySelectorAll('input[type="checkbox"]');
            filterCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', filterAlgorithms);
            });
        }

        // Filter algorithms based on search and filters
        function filterAlgorithms() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            const difficultyFilters = {
                easy: document.getElementById('filterEasy').checked,
                medium: document.getElementById('filterMedium').checked,
                hard: document.getElementById('filterHard').checked
            };
            const categoryFilters = {
                arrays: document.getElementById('filterArrays').checked,
                strings: document.getElementById('filterStrings').checked,
                trees: document.getElementById('filterTrees').checked,
                graphs: document.getElementById('filterGraphs').checked,
                dp: document.getElementById('filterDP').checked
            };

            filteredAlgorithms = algorithms.filter(algo => {
                // Search filter
                const matchesSearch = algo.name.toLowerCase().includes(searchTerm) ||
                                    algo.concept.toLowerCase().includes(searchTerm) ||
                                    algo.category.toLowerCase().includes(searchTerm);
                
                // Difficulty filter
                const matchesDifficulty = difficultyFilters[algo.difficulty.toLowerCase()];
                
                // Category filter
                const matchesCategory = categoryFilters[algo.category.toLowerCase()] ||
                                      (algo.category === 'Search' && categoryFilters.arrays) ||
                                      (algo.category === 'Sorting' && categoryFilters.arrays);

                return matchesSearch && matchesDifficulty && matchesCategory;
            });

            renderAlgorithmList();
        }

        // Render algorithm list
        function renderAlgorithmList() {
            const container = document.getElementById('algorithmList');
            container.innerHTML = '';

            filteredAlgorithms.forEach(algo => {
                const item = document.createElement('div');
                item.className = 'algorithm-item';
                item.onclick = () => selectAlgorithm(algo);

                item.innerHTML = `
                    <div class="algorithm-name">${algo.name}</div>
                    <div class="algorithm-meta">
                        ${algo.category} ‚Ä¢ ${algo.difficulty} ‚Ä¢ ${algo.timeComplexity}
                    </div>
                `;

                container.appendChild(item);
            });
        }

        // Select algorithm and show details
        function selectAlgorithm(algo) {
            selectedAlgorithm = algo;
            
            // Update selected state
            document.querySelectorAll('.algorithm-item').forEach(item => {
                item.classList.remove('selected');
            });
            event.target.closest('.algorithm-item').classList.add('selected');

            renderAlgorithmDetail(algo);
        }

        // Render algorithm detail
        function renderAlgorithmDetail(algo) {
            const container = document.getElementById('algorithmDetail');
            
            container.innerHTML = `
                <h2>${algo.name}</h2>
                <p><strong>Category:</strong> ${algo.category} | <strong>Difficulty:</strong> ${algo.difficulty}</p>
                <p><strong>Concept:</strong> ${algo.concept}</p>
                <p>${algo.description}</p>

                <div class="theory-section">
                    <h3>üìä Complexity Analysis</h3>
                    <div class="complexity-grid">
                        <div class="complexity-card">
                            <div class="complexity-title">Time Complexity</div>
                            <div class="complexity-value">${algo.timeComplexity}</div>
                        </div>
                        <div class="complexity-card">
                            <div class="complexity-title">Space Complexity</div>
                            <div class="complexity-value">${algo.spaceComplexity}</div>
                        </div>
                        <div class="complexity-card">
                            <div class="complexity-title">Stability</div>
                            <div class="complexity-value">${algo.category === 'Sorting' ? 'Unstable' : 'N/A'}</div>
                        </div>
                    </div>
                </div>

                <div class="theory-section">
                    <h3>üéØ Key Insights</h3>
                    <ul>
                        ${algo.keyInsights.map(insight => `<li>${insight}</li>`).join('')}
                    </ul>
                </div>

                <div class="theory-section">
                    <h3>‚ö†Ô∏è Common Mistakes</h3>
                    <ul>
                        ${algo.commonMistakes.map(mistake => `<li>${mistake}</li>`).join('')}
                    </ul>
                </div>

                <div class="theory-section">
                    <h3>üí° Optimization Tips</h3>
                    <ul>
                        ${algo.optimizationTips.map(tip => `<li>${tip}</li>`).join('')}
                    </ul>
                </div>

                <div class="theory-section">
                    <h3>üåç Real-World Applications</h3>
                    <ul>
                        ${algo.realWorldApplications.map(app => `<li>${app}</li>`).join('')}
                    </ul>
                </div>

                <div class="learning-path">
                    <h3>üìö Learning Path</h3>
                    ${algo.learningPath.map(step => `
                        <div class="path-step">
                            <div class="step-number">${step.step}</div>
                            <div class="step-content">
                                <div class="step-title">${step.title}</div>
                                <div class="step-description">${step.description}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>

                <div class="code-section">
                    <h3>üíª Code Examples</h3>
                    <div class="code-tabs">
                        <button class="code-tab active" onclick="showCodeTab('python')">Python</button>
                        <button class="code-tab" onclick="showCodeTab('javascript')">JavaScript</button>
                        <button class="code-tab" onclick="showCodeTab('java')">Java</button>
                    </div>
                    <div class="code-content" id="codeContent">
                        ${algo.codeExamples.python}
                    </div>
                </div>

                <div class="enhancement-section">
                    <h3 class="enhancement-title">üß† Theory Enhancements</h3>
                    ${algo.theoryEnhancements.map(enhancement => `
                        <div class="enhancement-item">
                            <div class="enhancement-type">${enhancement.type}</div>
                            <div class="enhancement-content">${enhancement.content}</div>
                        </div>
                    `).join('')}
                </div>

                <div style="margin-top: 20px;">
                    <button class="btn btn-primary" onclick="generatePracticeProblems()">üéØ Generate Practice Problems</button>
                    <button class="btn btn-success" onclick="showVisualization()">üìä Show Visualization</button>
                    <button class="btn btn-warning" onclick="createStudyPlan()">üìã Create Study Plan</button>
                    <button class="btn btn-info" onclick="exportNotes()">üìù Export Notes</button>
                </div>
            `;
        }

        // Show different code tabs
        function showCodeTab(language) {
            if (!selectedAlgorithm) return;

            // Update active tab
            document.querySelectorAll('.code-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update code content
            document.getElementById('codeContent').textContent = selectedAlgorithm.codeExamples[language];
        }

        // Generate practice problems
        function generatePracticeProblems() {
            if (!selectedAlgorithm) return;
            
            const problems = [
                `1. Implement ${selectedAlgorithm.name} with different approach`,
                `2. Solve ${selectedAlgorithm.name} with edge cases`,
                `3. Optimize ${selectedAlgorithm.name} for specific constraints`,
                `4. Compare ${selectedAlgorithm.name} with alternative algorithms`,
                `5. Apply ${selectedAlgorithm.name} to real-world scenario`
            ];
            
            alert(`Practice Problems for ${selectedAlgorithm.name}:\n\n${problems.join('\n')}`);
        }

        // Show visualization
        function showVisualization() {
            if (!selectedAlgorithm) return;
            alert(`Visualization for ${selectedAlgorithm.name} would show step-by-step execution with animations.`);
        }

        // Create study plan
        function createStudyPlan() {
            if (!selectedAlgorithm) return;
            
            const plan = `
Study Plan for ${selectedAlgorithm.name}:

Day 1: Understand concept and theory
Day 2: Implement basic version
Day 3: Handle edge cases and optimization
Day 4: Practice with variations
Day 5: Review and master
            `;
            
            alert(plan);
        }

        // Export notes
        function exportNotes() {
            if (!selectedAlgorithm) return;
            
            const notes = `
# ${selectedAlgorithm.name} - Study Notes

## Concept
${selectedAlgorithm.concept}

## Key Insights
${selectedAlgorithm.keyInsights.map(insight => `- ${insight}`).join('\n')}

## Common Mistakes
${selectedAlgorithm.commonMistakes.map(mistake => `- ${mistake}`).join('\n')}

## Optimization Tips
${selectedAlgorithm.optimizationTips.map(tip => `- ${tip}`).join('\n')}

## Code Example (Python)
${selectedAlgorithm.codeExamples.python}
            `;
            
            // Create download link
            const blob = new Blob([notes], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${selectedAlgorithm.name.toLowerCase().replace(' ', '_')}_notes.md`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Initialize when page loads
        window.onload = init;
    </script>

    <!-- Shared JavaScript -->
    <script defer src="../../shared/scripts.js"></script>

    <!-- Service Worker Registration -->
    <script defer>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed');
                    });
            });
        }
    </script>

    <script>
        // Register service worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('shared/service-worker.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed');
                    });
            });
        }
    </script>
</body>
</html> 